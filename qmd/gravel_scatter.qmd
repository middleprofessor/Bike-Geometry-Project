---
title: "Gravel Scatter"
editor: visual
---

```{r setup-gravel-scatter, warning=FALSE, message=FALSE, echo=FALSE}
knitr::opts_chunk$set(echo = FALSE,
                      message = FALSE,
                      warning = FALSE,
                      knitr.kable.NA = '')
# wrangling packages
library(here) # here makes a project transportable
library(janitor) # clean_names
library(readxl) # read excel, duh!
library(data.table) # magical data frames
library(magrittr) # pipes
library(stringr) # string functions
library(forcats) # factor functions

# analysis packages
library(emmeans) # the workhorse for inference
library(nlme) # gls and some lmm
library(lme4) # linear mixed models
library(lmerTest) # linear mixed model inference
library(afex) # ANOVA linear models
library(glmmTMB) # generalized linear models
library(MASS) # negative binomial and some other functions
library(car) # model checking and ANOVA
library(DHARMa) # model checking
library(mvtnorm)

# graphing packages
library(ggsci) # color palettes
library(ggpubr) # publication quality plots
library(ggforce) # better jitter
library(cowplot) # combine plots
library(knitr) # kable tables
library(kableExtra) # kable_styling tables
library(ggdendro) # dendrogram
library(dendextend) # better dendrogram
library(ggiraph)
library(GGally)

# plotly
library(plotly)
library(flexdashboard)
library(crosstalk)

# ggplot_the_model.R packages not loaded above
library(insight)
library(lazyWeave)

# use here from the here package
here <- here::here
# use clean_names from the janitor package
clean_names <- janitor::clean_names
# use transpose from data.table
transpose <- data.table::transpose

pal_okabe_ito <- c(
  "#E69F00",
  "#56B4E9",
  "#009E73",
  "#F0E442",
  "#0072B2",
  "#D55E00",
  "#CC79A7"
)
pal_okabe_ito_blue <- pal_okabe_ito[c(5,6,1,2,3,7,4)] 
pal_okabe_ito_red <- pal_okabe_ito[c(6,5,3,1,2,7,4)] 

pal_okabe_ito_3 <- pal_okabe_ito[c(1,2,3)]
pal_okabe_ito_4 <- pal_okabe_ito[c(1,2,3,6)]

  geo_bike_path <- here("rds", "geobike.Rds")
  geobike <- readRDS(geo_bike_path)
  my_fit_path <- here("rds", "my_fit.Rds")
  my_fit <- readRDS(my_fit_path)

```

```{r}
source_path <- here::here("Rmd", "bike_geometry_project.R")
source(source_path)

```

```{r}
p1 <- scatter_fig(x_col = "reach", y_col = "stack",
                  x_label = "Reach", y_label = "Stack")
p2 <- scatter_fig(x_col = "rear_center", y_col = "front_center",
                  x_label = "Rear Center", y_label = "Front Center",
                  x_info = "RC", y_info = "FC")
p3 <- scatter_fig(x_col = "head_tube_angle", y_col = "seat_tube_angle",
                  x_label = "Head Tube Angle", y_label = "Seat Tube Angle",
                  x_info = "HTA", y_info = "STA", digits = 1,
                  jitter_x = 0,
                  jitter_y = 0)
p4 <- scatter_fig(x_col = "trail", y_col = "bottom_bracket_drop",
                  x_label = "Trail", y_label = "Bottom Bracket Drop",
                  x_info = "Trail", y_info = "BBD", digits = 0)
p5 <- scatter_fig(x_col = "front_wheelbase", y_col = "stack_reach",
                  x_label = "Front Center/Wheelbase", y_label = "Stack/Reach",
                  x_info = "FC/WB", y_info = "Stack/Reach", digits = 2)
p6 <- scatter_fig(x_col = "front_wheelbase", y_col = "sta_hta",
                  x_label = "Front Center/Wheelbase", y_label = "STA/HTA",
                  x_info = "FC/WB", y_info = "STA/HTA", digits = 2)

p1
p2
p3
p4
p5
p6
```
